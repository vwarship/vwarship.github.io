<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>狗吃草</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="狗吃草">
<meta property="og:url" content="http://www.gouchicao.com/index.html">
<meta property="og:site_name" content="狗吃草">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="狗吃草">
  
    <link rel="alternate" href="/atom.xml" title="狗吃草" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
  <link rel="stylesheet" href="/css/style.css">
  

<link rel="stylesheet" href="/css/prism.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">狗吃草</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Focusing on my intentions is where my power comes from.</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">主页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about">关于我</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://www.gouchicao.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Xcode-Create-iOS-Static-Library" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/27/Xcode-Create-iOS-Static-Library/" class="article-date">
  <time datetime="2017-11-27T06:09:58.000Z" itemprop="datePublished">2017-11-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/开发/">开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/27/Xcode-Create-iOS-Static-Library/">Xcode Create iOS Static Library</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>创建一个iOS静态库，使用C语言开发。</p>
</blockquote>
<h2 id="创建静态库"><a href="#创建静态库" class="headerlink" title="创建静态库"></a>创建静态库</h2><p><img src="/2017/11/27/Xcode-Create-iOS-Static-Library/Create-iOS-Cocoa-Touch-Static-Library.png" alt=""></p>
<h2 id="编译配置"><a href="#编译配置" class="headerlink" title="编译配置"></a>编译配置</h2><ul>
<li><p>当你开发的时候使用的iOS SDK 11时，想要让发布的版本可以在iOS SDK 8以上都可以运行，就需要设置：Build Setting -&gt; Architecture -&gt; Build Active Architecture Only = No; Build Setting -&gt; Deployment -&gt; iOS-Deployment-Target = iOS 8.0</p>
<p>  <img src="/2017/11/27/Xcode-Create-iOS-Static-Library/Build-Active-Architecture-Only.png" alt=""></p>
<p>  <img src="/2017/11/27/Xcode-Create-iOS-Static-Library/iOS-Deployment-Target.png" alt=""></p>
</li>
</ul>
<h2 id="发布Release"><a href="#发布Release" class="headerlink" title="发布Release"></a>发布Release</h2><p><img src="/2017/11/27/Xcode-Create-iOS-Static-Library/Edit-Scheme-Menu.png" alt=""></p>
<p><img src="/2017/11/27/Xcode-Create-iOS-Static-Library/Edit-Scheme-Dialog.png" alt=""></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a href="https://github.com/vwarship/Guomi" target="_blank" rel="external">Guomi</a></li>
<li><a href="http://www.jianshu.com/p/a8366426fe51" target="_blank" rel="external">Xcode7打包Framework</a></li>
<li><a href="https://stackoverflow.com/questions/5303933/xcode4-linking-problem-file-was-built-for-archive-which-is-not-the-architecture" target="_blank" rel="external">Xcode4 Linking Problem. File was built for archive which is not the architecture being linked (arm6)</a></li>
<li><a href="https://stackoverflow.com/questions/14828693/error-file-was-built-for-archive-which-is-not-the-architecture-being-linked-a" target="_blank" rel="external">Error: “File was built for archive which is not the architecture being linked (armv7s)”</a></li>
<li><a href="http://blog.csdn.net/ysysbaobei/article/details/16371263" target="_blank" rel="external">xcode编译时，有第三方库时，编译设置build active architecture only问题</a></li>
<li><a href="https://stackoverflow.com/questions/22910866/ld-warning-ignoring-file" target="_blank" rel="external">ld: warning: ignoring file</a></li>
<li><a href="http://blog.sina.com.cn/s/blog_7b9d64af0101jlym.html" target="_blank" rel="external">iOS生成静态库方法-iOS集成静态库-iOS合并静态库</a></li>
<li><a href="http://blog.csdn.net/l2i2j2/article/details/51184515" target="_blank" rel="external">iOS黄色警告之was built for newer iOS version (7.0) than being linked (6.0)解决办法</a></li>
<li><a href="https://vwarship.github.io/2017/10/25/iOS-App使用OpenSSL/" target="_blank" rel="external">iOS App使用OpenSSL</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.gouchicao.com/2017/11/27/Xcode-Create-iOS-Static-Library/" data-id="cjahu0dn70006n4yqajzd1fog" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/静态库/">静态库</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-iOS-App-创建图标" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/15/iOS-App-创建图标/" class="article-date">
  <time datetime="2017-11-15T08:58:02.000Z" itemprop="datePublished">2017-11-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/开发/">开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/15/iOS-App-创建图标/">iOS App 创建图标</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="生成App图标"><a href="#生成App图标" class="headerlink" title="生成App图标"></a>生成App图标</h2><ol>
<li><p>下载<a href="https://itunes.apple.com/cn/app/app-icon-set-creator/id1052532083?mt=12" target="_blank" rel="external">App Icon Set Creator</a></p>
</li>
<li><p>运行App Icon Set Creator，拖拽图片，选择平台和输出目录，单击Generate Asset Catalog。</p>
</li>
<li><p>在Xcode中打开App，删除AppIcon，导入刚刚生成的图标集。</p>
<p> <img src="/2017/11/15/iOS-App-创建图标/ImportAppIcon.png" alt="导入App图标"></p>
</li>
</ol>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a href="https://developer.apple.com/ios/human-interface-guidelines/icons-and-images/image-size-and-resolution/" target="_blank" rel="external">Image Size and Resolution</a></li>
<li><a href="https://stackoverflow.com/questions/28170520/ios-how-to-set-app-icon-and-launch-images" target="_blank" rel="external">iOS how to set app icon and launch images</a></li>
<li><a href="http://www.jianshu.com/p/8e965f12e31b" target="_blank" rel="external">iOS-App各种Icon及Launch image的尺寸总结</a></li>
<li><a href="https://my.oschina.net/u/2252309/blog/402724" target="_blank" rel="external">App各种Icon及Launch image的尺寸和用途 移动端尺寸基础知识</a></li>
<li><a href="https://www.smashingmagazine.com/2015/08/animating-in-keynote/" target="_blank" rel="external">Keynote Animation – How To Prototype UI</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.gouchicao.com/2017/11/15/iOS-App-创建图标/" data-id="cjahu0dnf000an4yqvkgw0x3q" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/App/">App</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/icon/">icon</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-编辑UITextField和UITextView时如何隐藏键盘" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/06/编辑UITextField和UITextView时如何隐藏键盘/" class="article-date">
  <time datetime="2017-11-06T01:36:26.000Z" itemprop="datePublished">2017-11-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/开发/">开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/06/编辑UITextField和UITextView时如何隐藏键盘/">编辑UITextField和UITextView时如何隐藏键盘</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>当编辑完 UITextField 和 UITextView 控件后，键盘出来了就遮住了下面的控件，想操作下面的控件又被遮住了。</p>
</blockquote>
<pre class="line-numbers language-swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token builtin">UIKit</span>

<span class="token keyword">class</span> <span class="token class-name">ViewController</span><span class="token punctuation">:</span> <span class="token builtin">UIViewController</span><span class="token punctuation">,</span> <span class="token builtin">UITextFieldDelegate</span><span class="token punctuation">,</span> <span class="token builtin">UITextViewDelegate</span> <span class="token punctuation">{</span>
    <span class="token atrule">@IBOutlet</span> <span class="token keyword">weak</span> <span class="token keyword">var</span> textField<span class="token punctuation">:</span> <span class="token builtin">UITextField</span><span class="token operator">!</span>
    <span class="token atrule">@IBOutlet</span> <span class="token keyword">weak</span> <span class="token keyword">var</span> textView<span class="token punctuation">:</span> <span class="token builtin">UITextView</span><span class="token operator">!</span>

    <span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

        textField<span class="token punctuation">.</span>returnKeyType <span class="token operator">=</span> <span class="token punctuation">.</span>done <span class="token comment" spellcheck="true">// 换行变成完成</span>
        textView<span class="token punctuation">.</span>returnKeyType <span class="token operator">=</span> <span class="token punctuation">.</span>done

        textField<span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span>
        textView<span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function">didReceiveMemoryWarning</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">didReceiveMemoryWarning</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">func</span> <span class="token function">textFieldShouldReturn</span><span class="token punctuation">(</span><span class="token number">_</span> textField<span class="token punctuation">:</span> <span class="token builtin">UITextField</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Bool</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">">>textFieldShouldReturn"</span><span class="token punctuation">)</span>

        textField<span class="token punctuation">.</span><span class="token function">resignFirstResponder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">func</span> <span class="token function">textView</span><span class="token punctuation">(</span><span class="token number">_</span> textView<span class="token punctuation">:</span> <span class="token builtin">UITextView</span><span class="token punctuation">,</span> shouldChangeTextIn range<span class="token punctuation">:</span> <span class="token builtin">NSRange</span><span class="token punctuation">,</span> replacementText text<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Bool</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> text <span class="token operator">==</span> <span class="token string">"\n"</span> <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">">>textView"</span><span class="token punctuation">)</span>

            textView<span class="token punctuation">.</span><span class="token function">resignFirstResponder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a href="https://github.com/vwarship/Samples/tree/master/iOS/Practice/UI/UITextXXXHideKeyboard" target="_blank" rel="external">UITextField UITextView Hide Keyboard</a></li>
<li><a href="http://www.jianshu.com/p/8ddf5beaf702" target="_blank" rel="external">iOS 键盘处理（改变键盘为完成键），UITextField键盘显示隐藏，弹出，回弹</a></li>
<li><a href="http://www.hangge.com/blog/cache/detail_530.html" target="_blank" rel="external">Swift - 文本输入框（UITextField）的用法</a></li>
<li><a href="http://blog.csdn.net/st646889325/article/details/52804678" target="_blank" rel="external">swift中UITextView的使用</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.gouchicao.com/2017/11/06/编辑UITextField和UITextView时如何隐藏键盘/" data-id="cjahu0dnu000mn4yq53zsluma" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/UITextField/">UITextField</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/UITextView/">UITextView</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Xcode中C语言移除警告" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/06/Xcode中C语言移除警告/" class="article-date">
  <time datetime="2017-11-06T00:48:53.000Z" itemprop="datePublished">2017-11-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/开发/">开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/06/Xcode中C语言移除警告/">Xcode中C语言移除警告</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="/2017/11/06/Xcode中C语言移除警告/c_remove_disable_warning.png" alt="c_remove_disable_warning"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.gouchicao.com/2017/11/06/Xcode中C语言移除警告/" data-id="cjahu0dna0007n4yqa1vvzbwm" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Xcode/">Xcode</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-iOS11短信过滤" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/02/iOS11短信过滤/" class="article-date">
  <time datetime="2017-11-02T12:44:59.000Z" itemprop="datePublished">2017-11-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/开发/">开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/02/iOS11短信过滤/">iOS11短信过滤</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Message-Filter-Extension"><a href="#Message-Filter-Extension" class="headerlink" title="Message Filter Extension"></a>Message Filter Extension</h2><ol>
<li><p>创建 Message Filter Extension。在已有的项目中，选择菜单 File -&gt; New -&gt; Target…，创建 FilterExtension。</p>
<p> <img src="/2017/11/02/iOS11短信过滤/NewMessageFilterExtension.png" alt="创建 Message Filter Extension"></p>
</li>
<li><p>实现过滤。编写过滤关键词的代码，打开文件 MessageFilterExtension.swift</p>
<pre class="line-numbers language-swift"><code class="language-swift"> <span class="token keyword">private</span> <span class="token keyword">func</span> <span class="token function">offlineAction</span><span class="token punctuation">(</span><span class="token keyword">for</span> queryRequest<span class="token punctuation">:</span> <span class="token builtin">ILMessageFilterQueryRequest</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">ILMessageFilterAction</span> <span class="token punctuation">{</span>
     <span class="token keyword">guard</span> <span class="token keyword">let</span> messageBody <span class="token operator">=</span> queryRequest<span class="token punctuation">.</span>messageBody <span class="token keyword">else</span> <span class="token punctuation">{</span>
         <span class="token keyword">return</span> <span class="token punctuation">.</span><span class="token keyword">none</span>
     <span class="token punctuation">}</span>

     <span class="token keyword">return</span> <span class="token function">isFilter</span><span class="token punctuation">(</span>messageBody<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">.</span><span class="token builtin">filter</span> <span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token keyword">none</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">private</span> <span class="token keyword">func</span> <span class="token function">isFilter</span><span class="token punctuation">(</span><span class="token number">_</span> messageBody<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Bool</span> <span class="token punctuation">{</span>
     <span class="token keyword">let</span> filterKeywords <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"优教育"</span><span class="token punctuation">,</span>
                           <span class="token string">"今日新股发行"</span><span class="token punctuation">,</span>
                           <span class="token string">"平安陆金所"</span><span class="token punctuation">,</span>
                           <span class="token string">"集金学堂"</span><span class="token punctuation">,</span>
                           <span class="token string">"苏宁金融"</span><span class="token punctuation">,</span>
                           <span class="token string">"爱城市网"</span><span class="token punctuation">,</span>
                           <span class="token string">"飞贷金融科技"</span><span class="token punctuation">,</span>
                           <span class="token string">"家长帮"</span><span class="token punctuation">,</span>
                           <span class="token string">"test"</span><span class="token punctuation">,</span>
                           <span class="token string">"测试"</span><span class="token punctuation">]</span>

     <span class="token keyword">for</span> keyword <span class="token keyword">in</span> filterKeywords <span class="token punctuation">{</span>
         <span class="token keyword">if</span> messageBody<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>keyword<span class="token punctuation">)</span> <span class="token punctuation">{</span>
             <span class="token keyword">return</span> <span class="token boolean">true</span>
         <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>

     <span class="token keyword">return</span> <span class="token boolean">false</span>
 <span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>设置短信过滤插件。打开手机的 设置 -&gt; 信息 -&gt; 未知与过滤信息 -&gt; 短信过滤 中设置你的短信过滤插件打开。</p>
<p> <img src="/2017/11/02/iOS11短信过滤/设置短信过滤插件.png" alt="设置短信过滤插件"></p>
</li>
<li><p>查看短信过滤效果。</p>
<p> <img src="/2017/11/02/iOS11短信过滤/短信过滤效果.png" alt="短信过滤效果"></p>
</li>
<li><p>关于短信过滤与隐私</p>
<p> <img src="/2017/11/02/iOS11短信过滤/关于短信过滤与隐私.png" alt="关于短信过滤与隐私"></p>
</li>
</ol>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a href="https://yq.aliyun.com/articles/98864" target="_blank" rel="external">iOS 11 短信拦截功能初探</a></li>
<li><a href="https://developer.apple.com/documentation/identitylookup" target="_blank" rel="external">IdentityLookup</a></li>
<li><a href="https://developer.apple.com/videos/play/wwdc2017/249/" target="_blank" rel="external">Filtering Unwanted Messages with Identity Lookup</a></li>
<li><a href="http://www.jianshu.com/p/3a8e45af7fdd" target="_blank" rel="external">Swift的Guard语句</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/27560301" target="_blank" rel="external">iOS 11 短信过滤扩展简介</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.gouchicao.com/2017/11/02/iOS11短信过滤/" data-id="cjahu0dnq000fn4yqshixnb8n" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ILMessageFilterExtension/">ILMessageFilterExtension</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SMS/">SMS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-iOS-App使用OpenSSL" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/10/25/iOS-App使用OpenSSL/" class="article-date">
  <time datetime="2017-10-25T11:53:40.000Z" itemprop="datePublished">2017-10-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/开发/">开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/25/iOS-App使用OpenSSL/">iOS App使用OpenSSL</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="编译-OpenSSL-for-iPhone"><a href="#编译-OpenSSL-for-iPhone" class="headerlink" title="编译 OpenSSL-for-iPhone"></a>编译 <a href="https://github.com/x2on/OpenSSL-for-iPhone" target="_blank" rel="external">OpenSSL-for-iPhone</a></h2><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">git</span> clone https://github.com/x2on/OpenSSL-for-iPhone.git
<span class="token function">cd</span> OpenSSL-for-iPhone/
./build-libssl.sh --version<span class="token operator">=</span>1.1.0f
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="使用-OpenSSL"><a href="#使用-OpenSSL" class="headerlink" title="使用 OpenSSL"></a>使用 OpenSSL</h2><h3 id="创建-iOS-工程。"><a href="#创建-iOS-工程。" class="headerlink" title="创建 iOS 工程。"></a>创建 iOS 工程。</h3><h3 id="拷贝-OpenSSL-头文件和库文件。"><a href="#拷贝-OpenSSL-头文件和库文件。" class="headerlink" title="拷贝 OpenSSL 头文件和库文件。"></a>拷贝 OpenSSL 头文件和库文件。</h3><ul>
<li>从 OpenSSL-for-iPhone 目录下拷贝 include 和 lib 目录到新创建的工程目录下面。</li>
</ul>
<h3 id="新建文件-UseOpenSSL-Bridging-Header-h"><a href="#新建文件-UseOpenSSL-Bridging-Header-h" class="headerlink" title="新建文件 UseOpenSSL-Bridging-Header.h"></a>新建文件 UseOpenSSL-Bridging-Header.h</h3><pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">import</span> &lt;openssl/md5.h></span>
<span class="token macro property">#<span class="token directive keyword">import</span> &lt;openssl/sha.h></span>
<span class="token macro property">#<span class="token directive keyword">import</span> &lt;openssl/evp.h></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="配置工程属性。"><a href="#配置工程属性。" class="headerlink" title="配置工程属性。"></a>配置工程属性。</h3><ul>
<li><b>Build Settings</b>，通过在搜索框中输入 Search Paths 快速过滤<br>  <b>Header Search Paths</b>    include/**<br>  <b>Objective-C Bridging</b>    Header UseOpenSSL/UseOpenSSL-Bridging-Header.h</li>
</ul>
<h3 id="添加库文件。"><a href="#添加库文件。" class="headerlink" title="添加库文件。"></a>添加库文件。</h3><ul>
<li><p>在左侧工程导航栏中的工程上单击右键，选择 New Group without Folder 菜单项，创建 Frameworks 。</p>
</li>
<li><p>增加库文件 libssl.a libcrypto.a 到 Frameworks 下。</p>
</li>
</ul>
<h3 id="Swift-调用-OpenSSL-生成-md5"><a href="#Swift-调用-OpenSSL-生成-md5" class="headerlink" title="Swift 调用 OpenSSL 生成 md5"></a>Swift 调用 OpenSSL 生成 md5</h3><pre class="line-numbers language-swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token builtin">UIKit</span>

<span class="token keyword">class</span> <span class="token class-name">ViewController</span><span class="token punctuation">:</span> <span class="token builtin">UIViewController</span> <span class="token punctuation">{</span>

    <span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token keyword">let</span> string <span class="token operator">=</span> <span class="token string">"Hello World!"</span>
        <span class="token keyword">let</span> outStringLength <span class="token operator">=</span> <span class="token function">Int</span><span class="token punctuation">(</span><span class="token builtin">MD5_DIGEST_LENGTH</span><span class="token punctuation">)</span>
        <span class="token keyword">let</span> outStringPtr <span class="token operator">=</span> <span class="token builtin">UnsafeMutablePointer</span><span class="token operator">&lt;</span><span class="token builtin">UInt8</span><span class="token operator">></span><span class="token punctuation">.</span><span class="token function">allocate</span><span class="token punctuation">(</span>capacity<span class="token punctuation">:</span> outStringLength<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">MD5</span><span class="token punctuation">(</span>string<span class="token punctuation">,</span> outStringLength<span class="token punctuation">,</span> outStringPtr<span class="token punctuation">)</span>

        <span class="token keyword">let</span> md5 <span class="token operator">=</span> <span class="token function">NSMutableString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">0</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span>outStringLength <span class="token punctuation">{</span>
            md5<span class="token punctuation">.</span><span class="token function">appendFormat</span><span class="token punctuation">(</span><span class="token string">"%02x"</span><span class="token punctuation">,</span> outStringPtr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token function">print</span><span class="token punctuation">(</span>md5<span class="token punctuation">)</span>

        outStringPtr<span class="token punctuation">.</span><span class="token function">deallocate</span><span class="token punctuation">(</span>capacity<span class="token punctuation">:</span> outStringLength<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function">didReceiveMemoryWarning</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">didReceiveMemoryWarning</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a href="https://stackoverflow.com/questions/24099520/commonhmac-in-swift/" target="_blank" rel="external">CommonHMAC in Swift</a></li>
<li><a href="https://github.com/vwarship/Samples/tree/master/iOS/Practice/UseOpenSSL" target="_blank" rel="external">iOS Use OpenSSL sample</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.gouchicao.com/2017/10/25/iOS-App使用OpenSSL/" data-id="cjahu0dni000bn4yqlu27d8jy" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OpenSSL/">OpenSSL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Swift/">Swift</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Swift-Call-C" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/10/25/Swift-Call-C/" class="article-date">
  <time datetime="2017-10-25T09:21:47.000Z" itemprop="datePublished">2017-10-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/开发/">开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/25/Swift-Call-C/">Swift Call C</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="C-类型对应-Swift-类型"><a href="#C-类型对应-Swift-类型" class="headerlink" title="C 类型对应 Swift 类型"></a>C 类型对应 Swift 类型</h2><table>
<thead>
<tr>
<th>C Type</th>
<th>Swift Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>bool</td>
<td>CBool</td>
</tr>
<tr>
<td>char, signed char</td>
<td>CChar</td>
</tr>
<tr>
<td>unsigned char</td>
<td>CUnsignedChar</td>
</tr>
<tr>
<td>short</td>
<td>CShort</td>
</tr>
<tr>
<td>unsigned short</td>
<td>CUnsignedShort</td>
</tr>
<tr>
<td>int</td>
<td>CInt</td>
</tr>
<tr>
<td>unsigned int</td>
<td>CUnsignedInt</td>
</tr>
<tr>
<td>long</td>
<td>CLong</td>
</tr>
<tr>
<td>unsigned long</td>
<td>CUnsignedLong</td>
</tr>
<tr>
<td>long long</td>
<td>CLongLong</td>
</tr>
<tr>
<td>unsigned long long</td>
<td>CUnsignedLongLong</td>
</tr>
<tr>
<td>wchar_t</td>
<td>CWideChar</td>
</tr>
<tr>
<td>char16_t</td>
<td>CChar16</td>
</tr>
<tr>
<td>char32_t</td>
<td>CChar32</td>
</tr>
<tr>
<td>float</td>
<td>CFloat</td>
</tr>
<tr>
<td>double</td>
<td>CDouble</td>
</tr>
<tr>
<td>char*</td>
<td>UnsafeMutablePointer<int8></int8></td>
</tr>
</tbody>
</table>
<h2 id="配置-Objective-C-Bridging-Header-文件"><a href="#配置-Objective-C-Bridging-Header-文件" class="headerlink" title="配置 Objective-C Bridging Header 文件"></a>配置 Objective-C Bridging Header 文件</h2><ul>
<li>打开 Objective-C Bridging Header 文件：SwiftCallC-Bridging-Header.h，添加调用 C 定义的头文件。</li>
</ul>
<pre class="line-numbers language-swift"><code class="language-swift">#<span class="token keyword">import</span> <span class="token string">"XXX.h"</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="编写-C-代码"><a href="#编写-C-代码" class="headerlink" title="编写 C 代码"></a>编写 C 代码</h2><pre class="line-numbers language-c"><code class="language-c">
<span class="token keyword">void</span> <span class="token function">NoParamterAndNoReturn</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Call NoParamterAndNoReturn Function\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">SetParamters</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">char</span> uc<span class="token punctuation">,</span>
                  <span class="token keyword">short</span> int16<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">short</span> uint16<span class="token punctuation">,</span>
                  <span class="token keyword">int</span> int32<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span> uint32<span class="token punctuation">,</span>
                  <span class="token keyword">long</span> long32<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">long</span> ulong32<span class="token punctuation">,</span>
                  <span class="token keyword">long</span> <span class="token keyword">long</span> long64<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ulong64<span class="token punctuation">,</span>
                  <span class="token keyword">float</span> float32<span class="token punctuation">,</span> <span class="token keyword">double</span> float64<span class="token punctuation">,</span>
                  <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> inStr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Call SetParamters Function\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"char %d, unsigned char %u\n"</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> uc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"short %d, unsigned short %u\n"</span><span class="token punctuation">,</span> int16<span class="token punctuation">,</span> uint16<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"int %d, unsigned int %u\n"</span><span class="token punctuation">,</span> int32<span class="token punctuation">,</span> uint32<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"long %ld, unsigned long %lu\n"</span><span class="token punctuation">,</span> long32<span class="token punctuation">,</span> ulong32<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"long long %lld, unsigned long long %llu\n"</span><span class="token punctuation">,</span> long64<span class="token punctuation">,</span> ulong64<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"float %f, double %f\n"</span><span class="token punctuation">,</span> float32<span class="token punctuation">,</span> float64<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"in char* %s\n"</span><span class="token punctuation">,</span> inStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">GetPointerParamters</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> c<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">*</span> uc<span class="token punctuation">,</span>
                         <span class="token keyword">short</span><span class="token operator">*</span> int16<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">short</span><span class="token operator">*</span> uint16<span class="token punctuation">,</span>
                         <span class="token keyword">int</span><span class="token operator">*</span> int32<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token operator">*</span> uint32<span class="token punctuation">,</span>
                         <span class="token keyword">long</span><span class="token operator">*</span> long32<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">long</span><span class="token operator">*</span> ulong32<span class="token punctuation">,</span>
                         <span class="token keyword">long</span> <span class="token keyword">long</span><span class="token operator">*</span> long64<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">long</span> <span class="token keyword">long</span><span class="token operator">*</span> ulong64<span class="token punctuation">,</span>
                         <span class="token keyword">float</span><span class="token operator">*</span> float32<span class="token punctuation">,</span> <span class="token keyword">double</span><span class="token operator">*</span> float64<span class="token punctuation">,</span>
                         <span class="token keyword">char</span><span class="token operator">*</span> outStr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Call GetPointerParamters Function\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>c <span class="token operator">=</span> <span class="token string">'A'</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>uc <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>int16 <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">16</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>uint16 <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>int32 <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">32</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>uint32 <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>long32 <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">32</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>ulong32 <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>long64 <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">64</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>ulong64 <span class="token operator">=</span> <span class="token number">64</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>float32 <span class="token operator">=</span> <span class="token number">32.32</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>float64 <span class="token operator">=</span> <span class="token number">64.64</span><span class="token punctuation">;</span>
    <span class="token function">strcpy</span><span class="token punctuation">(</span>outStr<span class="token punctuation">,</span> <span class="token string">"Goodbye!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Swift-Call-C"><a href="#Swift-Call-C" class="headerlink" title="Swift Call C"></a>Swift Call C</h2><pre class="line-numbers language-swift"><code class="language-swift"><span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token function">NoParamterAndNoReturn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token function">callSetParamters</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token function">callGetPointerParamters</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">func</span> <span class="token function">callSetParamters</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> c<span class="token punctuation">:</span> <span class="token builtin">CChar</span> <span class="token operator">=</span> <span class="token number">127</span>
    <span class="token keyword">let</span> uc<span class="token punctuation">:</span> <span class="token builtin">CUnsignedChar</span> <span class="token operator">=</span> <span class="token number">255</span>
    <span class="token keyword">let</span> int16<span class="token punctuation">:</span> <span class="token builtin">CShort</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">16</span>
    <span class="token keyword">let</span> uint16<span class="token punctuation">:</span> <span class="token builtin">CUnsignedShort</span> <span class="token operator">=</span> <span class="token number">16</span>
    <span class="token keyword">let</span> int32<span class="token punctuation">:</span> <span class="token builtin">CInt</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">32</span>
    <span class="token keyword">let</span> uint32<span class="token punctuation">:</span> <span class="token builtin">CUnsignedInt</span> <span class="token operator">=</span> <span class="token number">32</span>
    <span class="token keyword">let</span> long32<span class="token punctuation">:</span> <span class="token builtin">CLong</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">32</span>
    <span class="token keyword">let</span> ulong32<span class="token punctuation">:</span> <span class="token builtin">CUnsignedLong</span> <span class="token operator">=</span> <span class="token number">32</span>
    <span class="token keyword">let</span> long64<span class="token punctuation">:</span> <span class="token builtin">CLongLong</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">64</span>
    <span class="token keyword">let</span> ulong64<span class="token punctuation">:</span> <span class="token builtin">CUnsignedLongLong</span> <span class="token operator">=</span> <span class="token number">64</span>
    <span class="token keyword">let</span> float32<span class="token punctuation">:</span> <span class="token builtin">CFloat</span> <span class="token operator">=</span> <span class="token number">32.32</span>
    <span class="token keyword">let</span> float64<span class="token punctuation">:</span> <span class="token builtin">CDouble</span> <span class="token operator">=</span> <span class="token number">64.64</span>
    <span class="token keyword">let</span> inStr <span class="token operator">=</span> <span class="token string">"Hello!"</span>

    <span class="token function">SetParamters</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> uc<span class="token punctuation">,</span> int16<span class="token punctuation">,</span> uint16<span class="token punctuation">,</span> int32<span class="token punctuation">,</span> uint32<span class="token punctuation">,</span>
                 long32<span class="token punctuation">,</span> ulong32<span class="token punctuation">,</span> long64<span class="token punctuation">,</span> ulong64<span class="token punctuation">,</span>
                 float32<span class="token punctuation">,</span> float64<span class="token punctuation">,</span> inStr<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">func</span> <span class="token function">callGetPointerParamters</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> c<span class="token punctuation">:</span> <span class="token builtin">CChar</span> <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">var</span> uc<span class="token punctuation">:</span> <span class="token builtin">CUnsignedChar</span> <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">var</span> int16<span class="token punctuation">:</span> <span class="token builtin">CShort</span> <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">var</span> uint16<span class="token punctuation">:</span> <span class="token builtin">CUnsignedShort</span> <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">var</span> int32<span class="token punctuation">:</span> <span class="token builtin">CInt</span> <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">var</span> uint32<span class="token punctuation">:</span> <span class="token builtin">CUnsignedInt</span> <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">var</span> long32<span class="token punctuation">:</span> <span class="token builtin">CLong</span> <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">var</span> ulong32<span class="token punctuation">:</span> <span class="token builtin">CUnsignedLong</span> <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">var</span> long64<span class="token punctuation">:</span> <span class="token builtin">CLongLong</span> <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">var</span> ulong64<span class="token punctuation">:</span> <span class="token builtin">CUnsignedLongLong</span> <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">var</span> float32<span class="token punctuation">:</span> <span class="token builtin">CFloat</span> <span class="token operator">=</span> <span class="token number">0.0</span>
    <span class="token keyword">var</span> float64<span class="token punctuation">:</span> <span class="token builtin">CDouble</span> <span class="token operator">=</span> <span class="token number">0.0</span>

    <span class="token keyword">let</span> cPtr <span class="token operator">=</span> <span class="token function">UnsafeMutablePointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>c<span class="token punctuation">)</span>
    <span class="token keyword">let</span> ucPtr <span class="token operator">=</span> <span class="token function">UnsafeMutablePointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>uc<span class="token punctuation">)</span>
    <span class="token keyword">let</span> int16Ptr <span class="token operator">=</span> <span class="token function">UnsafeMutablePointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>int16<span class="token punctuation">)</span>
    <span class="token keyword">let</span> uint16Ptr <span class="token operator">=</span> <span class="token function">UnsafeMutablePointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>uint16<span class="token punctuation">)</span>
    <span class="token keyword">let</span> int32Ptr <span class="token operator">=</span> <span class="token function">UnsafeMutablePointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>int32<span class="token punctuation">)</span>
    <span class="token keyword">let</span> uint32Ptr <span class="token operator">=</span> <span class="token function">UnsafeMutablePointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>uint32<span class="token punctuation">)</span>
    <span class="token keyword">let</span> long32Ptr <span class="token operator">=</span> <span class="token function">UnsafeMutablePointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>long32<span class="token punctuation">)</span>
    <span class="token keyword">let</span> ulong32Ptr <span class="token operator">=</span> <span class="token function">UnsafeMutablePointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>ulong32<span class="token punctuation">)</span>
    <span class="token keyword">let</span> long64Ptr <span class="token operator">=</span> <span class="token function">UnsafeMutablePointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>long64<span class="token punctuation">)</span>
    <span class="token keyword">let</span> ulong64Ptr <span class="token operator">=</span> <span class="token function">UnsafeMutablePointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>ulong64<span class="token punctuation">)</span>
    <span class="token keyword">let</span> float32Ptr <span class="token operator">=</span> <span class="token function">UnsafeMutablePointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>float32<span class="token punctuation">)</span>
    <span class="token keyword">let</span> float64Ptr <span class="token operator">=</span> <span class="token function">UnsafeMutablePointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>float64<span class="token punctuation">)</span>

    <span class="token keyword">let</span> bufSize <span class="token operator">=</span> <span class="token number">100</span>
    <span class="token keyword">let</span> outStrPtr <span class="token operator">=</span> <span class="token builtin">UnsafeMutablePointer</span><span class="token operator">&lt;</span><span class="token builtin">Int8</span><span class="token operator">></span><span class="token punctuation">.</span><span class="token function">allocate</span><span class="token punctuation">(</span>capacity<span class="token punctuation">:</span> bufSize<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//分配内存</span>

    <span class="token function">GetPointerParamters</span><span class="token punctuation">(</span>cPtr<span class="token punctuation">,</span> ucPtr<span class="token punctuation">,</span> int16Ptr<span class="token punctuation">,</span> uint16Ptr<span class="token punctuation">,</span> int32Ptr<span class="token punctuation">,</span> uint32Ptr<span class="token punctuation">,</span>
                        long32Ptr<span class="token punctuation">,</span> ulong32Ptr<span class="token punctuation">,</span> long64Ptr<span class="token punctuation">,</span> ulong64Ptr<span class="token punctuation">,</span>
                        float32Ptr<span class="token punctuation">,</span> float64Ptr<span class="token punctuation">,</span> outStrPtr<span class="token punctuation">)</span>

    <span class="token keyword">let</span> outStr <span class="token operator">=</span> <span class="token builtin">String</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>cString<span class="token punctuation">:</span> outStrPtr<span class="token punctuation">)</span>
    outStrPtr<span class="token punctuation">.</span><span class="token function">deallocate</span><span class="token punctuation">(</span>capacity<span class="token punctuation">:</span> bufSize<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">//释放内存</span>

    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"char <span class="token interpolation"><span class="token delimiter variable">\(</span>c<span class="token delimiter variable">)</span></span>, unsigned char <span class="token interpolation"><span class="token delimiter variable">\(</span>uc<span class="token delimiter variable">)</span></span>\n"</span><span class="token punctuation">,</span>
        <span class="token string">"short <span class="token interpolation"><span class="token delimiter variable">\(</span>int16<span class="token delimiter variable">)</span></span>, unsigned short <span class="token interpolation"><span class="token delimiter variable">\(</span>uint16<span class="token delimiter variable">)</span></span>\n"</span><span class="token punctuation">,</span>
        <span class="token string">"int <span class="token interpolation"><span class="token delimiter variable">\(</span>int32<span class="token delimiter variable">)</span></span>, unsigned int <span class="token interpolation"><span class="token delimiter variable">\(</span>uint32<span class="token delimiter variable">)</span></span>\n"</span><span class="token punctuation">,</span>
        <span class="token string">"long <span class="token interpolation"><span class="token delimiter variable">\(</span>long32<span class="token delimiter variable">)</span></span>, unsigned long <span class="token interpolation"><span class="token delimiter variable">\(</span>ulong32<span class="token delimiter variable">)</span></span>\n"</span><span class="token punctuation">,</span>
        <span class="token string">"long long <span class="token interpolation"><span class="token delimiter variable">\(</span>long64<span class="token delimiter variable">)</span></span>, unsigned long long <span class="token interpolation"><span class="token delimiter variable">\(</span>ulong64<span class="token delimiter variable">)</span></span>\n"</span><span class="token punctuation">,</span>
        <span class="token string">"float <span class="token interpolation"><span class="token delimiter variable">\(</span>float32<span class="token delimiter variable">)</span></span>, double <span class="token interpolation"><span class="token delimiter variable">\(</span>float64<span class="token delimiter variable">)</span></span>\n"</span><span class="token punctuation">,</span>
        <span class="token string">"out char* <span class="token interpolation"><span class="token delimiter variable">\(</span>outStr<span class="token delimiter variable">)</span></span>\n"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a href="https://github.com/vwarship/Samples/tree/master/iOS/Practice/SwiftCallC" target="_blank" rel="external">Swift Call C sample</a></li>
<li><a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/BuildingCocoaApps/InteractingWithCAPIs.html" target="_blank" rel="external">Interacting with C APIs</a></li>
<li><a href="http://technology.meronapps.com/2016/09/27/Swift-3-0-unsafe-world-2/?utm_source=Swift_Developments&amp;utm_medium=email&amp;utm_campaign=Swift_Developments_Issue_58" target="_blank" rel="external">Swift 3.0 Unsafe World</a> <a href="http://blog.csdn.net/zkh90644/article/details/52819002" target="_blank" rel="external">中文</a> <a href="http://technology.meronapps.com/2016/09/27/Swift-3-0-unsafe-world-2/?utm_source=Swift_Developments&amp;utm_medium=email&amp;utm_campaign=Swift_Developments_Issue_58" target="_blank" rel="external">英文</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.gouchicao.com/2017/10/25/Swift-Call-C/" data-id="cjahu0dn60005n4yqa69ketxe" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Swift/">Swift</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Xcode/">Xcode</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-自定义视图" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/10/20/自定义视图/" class="article-date">
  <time datetime="2017-10-20T05:55:30.000Z" itemprop="datePublished">2017-10-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/开发/">开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/20/自定义视图/">自定义视图</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><ol>
<li>创建 iOS 应用 Single View App，名字 CircleView。</li>
<li>删除文件 ViewController.swift。</li>
<li>删除 Main.storyboard 里的 ViewController。</li>
</ol>
<h2 id="ViewController-如何与类关联"><a href="#ViewController-如何与类关联" class="headerlink" title="ViewController 如何与类关联"></a>ViewController 如何与类关联</h2><ol>
<li><p>打开 Main.storyboard，从 Object Library 拖一个 View Controller。</p>
<p> <img src="/2017/10/20/自定义视图/ObjectLibraryViewController.png" alt="View Controller"></p>
</li>
<li><p>新建 Cocoa Touch Class, Class: CircleViewController, Subclass of: UIViewController。</p>
</li>
<li><p>打开 Main.storyboard，选中 View Controller，在窗口右侧选中 Identify Inspector，在 Class 的文本框中输入 CircleViewController。</p>
<p> <img src="/2017/10/20/自定义视图/SetCustomViewControllerClass.png" alt="Set Custom ViewController Class"></p>
</li>
<li><p>设置 Storyboard Entry Point。</p>
<p> <img src="/2017/10/20/自定义视图/IsInitialViewController.png" alt="Is Initial ViewController"></p>
</li>
</ol>
<h2 id="自定义-View"><a href="#自定义-View" class="headerlink" title="自定义 View"></a>自定义 View</h2><ol>
<li><p>打开 Main.storyboard，从 Object Library 拖一个 View。</p>
<p> <img src="/2017/10/20/自定义视图/ObjectLibraryView.png" alt="View"></p>
</li>
<li><p>新建 Cocoa Touch Class, Class: CircleView, Subclass of: UIView。</p>
</li>
<li><p>打开 Main.storyboard，选中 View，在窗口右侧选中 Identify Inspector，在 Class 的文本框中输入 CircleView，视图与类进行了绑定。</p>
<p> <img src="/2017/10/20/自定义视图/SetCustomViewClass.png" alt="Set Custom View Class"></p>
</li>
<li><p>编码 CircleView.swift</p>
</li>
</ol>
<pre class="line-numbers language-swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token builtin">UIKit</span>

<span class="token atrule">@IBDesignable</span>
<span class="token keyword">class</span> <span class="token class-name">CircleView</span><span class="token punctuation">:</span> <span class="token builtin">UIView</span> <span class="token punctuation">{</span>

    <span class="token atrule">@IBInspectable</span>
    <span class="token keyword">var</span> lineWidth<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span> <span class="token operator">=</span> <span class="token number">5</span> <span class="token punctuation">{</span> <span class="token keyword">didSet</span> <span class="token punctuation">{</span> <span class="token function">setNeedsDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>

    <span class="token atrule">@IBInspectable</span>
    <span class="token keyword">var</span> color<span class="token punctuation">:</span> <span class="token builtin">UIColor</span> <span class="token operator">=</span> <span class="token builtin">UIColor</span><span class="token punctuation">.</span>red <span class="token punctuation">{</span> <span class="token keyword">didSet</span> <span class="token punctuation">{</span> <span class="token function">setNeedsDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>

    <span class="token atrule">@IBInspectable</span>
    <span class="token keyword">var</span> scale<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span> <span class="token operator">=</span> <span class="token number">0.9</span> <span class="token punctuation">{</span> <span class="token keyword">didSet</span> <span class="token punctuation">{</span> <span class="token function">setNeedsDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>

    <span class="token keyword">var</span> circleCenter<span class="token punctuation">:</span> <span class="token builtin">CGPoint</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">convert</span><span class="token punctuation">(</span>center<span class="token punctuation">,</span> from<span class="token punctuation">:</span> superview<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> radius<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">min</span><span class="token punctuation">(</span>bounds<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">,</span> bounds<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">*</span> scale
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token number">_</span> rect<span class="token punctuation">:</span> <span class="token builtin">CGRect</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> circle <span class="token operator">=</span> <span class="token function">UIBezierPath</span><span class="token punctuation">(</span>arcCenter<span class="token punctuation">:</span> circleCenter<span class="token punctuation">,</span> radius<span class="token punctuation">:</span> radius<span class="token punctuation">,</span>
                                  startAngle<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> endAngle<span class="token punctuation">:</span> <span class="token function">CGFloat</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span><span class="token builtin">Double</span><span class="token punctuation">.</span>pi<span class="token punctuation">)</span><span class="token punctuation">,</span> clockwise<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
        color<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        circle<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        circle<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>@IBDesignable @IBInspectable 用于定制 View 属性的可视化。在 Storyboard 中选中自定义 View，在窗口右侧选中 Attributes Inspector，CircleView 下面有3个可设置的属性：Line Width, Color, Scale。</li>
</ul>
<p><img src="/2017/10/20/自定义视图/CustomViewAttributesInspector.png" alt="Set Custom View 属性"></p>
<ul>
<li><p>lineWidth, color, scale 3个属性使用了属性观察者，当设置了新的值后将通知系统重新绘制 View。</p>
</li>
<li><p>圆的弧度为2π</p>
</li>
</ul>
<h2 id="View-Content-Mode-设置-Redraw"><a href="#View-Content-Mode-设置-Redraw" class="headerlink" title="View Content Mode 设置 Redraw"></a>View Content Mode 设置 Redraw</h2><p>当旋转屏幕后，默认圆形会被拉伸，这里需要重新绘制。在 Storyboard 中选中自定义 View，在窗口右侧选中 Attributes Inspector，设置 View 的属性 Content Mode：Redraw。</p>
<p><img src="/2017/10/20/自定义视图/CustomViewAttributesInspectorRedraw.png" alt="Set View Content Mode Redraw"></p>
<h2 id="使用自定义的-View"><a href="#使用自定义的-View" class="headerlink" title="使用自定义的 View"></a>使用自定义的 View</h2><ol>
<li><p>打开 Main.storyboard，从 Object Library 拖一个 View。</p>
</li>
<li><p>选中 View，在窗口右侧选中 Identify Inspector，在 Class 的文本框中输入 CircleView。</p>
</li>
<li><p>选中 View，在窗口右侧选中 Attributes Inspector，设置 CircleView 的属性：Line Width, Color, Scale，在 Storyboard 可以看到效果。</p>
</li>
</ol>
<h2 id="Run"><a href="#Run" class="headerlink" title="Run"></a>Run</h2><p><img src="/2017/10/20/自定义视图/CircleView.png" alt="Run CircleView"></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a href="https://github.com/vwarship/Samples/tree/master/iOS/Practice/UI/CircleView" target="_blank" rel="external">Custom View sample</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.gouchicao.com/2017/10/20/自定义视图/" data-id="cjahu0dnx000pn4yqyz80nd09" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Swift/">Swift</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-使用Swift开发App入门课程笔记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/10/17/使用Swift开发App入门课程笔记/" class="article-date">
  <time datetime="2017-10-17T00:22:46.000Z" itemprop="datePublished">2017-10-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/开发/">开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/17/使用Swift开发App入门课程笔记/">使用Swift开发App入门课程笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="第11课：做出决策"><a href="#第11课：做出决策" class="headerlink" title="第11课：做出决策"></a>第11课：做出决策</h2><blockquote>
<p>迅速进入主题。最好不要将你的 app 的初始视图设计成登录屏幕或者一个大大的​“开始”按钮。让人们看到 app 的第一个屏幕时就能够立即开始使用。大多数用户想要使用你的 app 做什么用？就将它做成初始视图。到 app 的主要部分需要轻点几下？答案应该是——非常少。</p>
<p>建议你先让他们对 app 有个大致的了解，再去关注那些细节问题。</p>
</blockquote>
<h2 id="第12课：实例、方法和属性"><a href="#第12课：实例、方法和属性" class="headerlink" title="第12课：实例、方法和属性"></a>第12课：实例、方法和属性</h2><blockquote>
<p>原型<br>现在，你可能有了中意的 app 创意，一个超越其他、深得你心的创意。如果所有创意都让你感觉兴味索然，那就返回到创意列表，从头开始。因为现在要真正开始构建 app 了。<br>在 app 日志中，至少为你的 app 界面写下或草拟三个外观视图。尤其是，想想一个新用户打开 app 之后的前 10 秒的情形。</p>
<ul>
<li>用户看到的第一个屏幕（视图）是什么？显示哪些按钮？接下来会怎样？</li>
<li>想想你的 app 将显示哪些类型的图形和图标。</li>
<li>用户需要轻点几下能够找到想要知道的内容？</li>
<li>用户如何在视图之间进行导航？</li>
<li>不需要使用文字就能表达 app 功能的简单方法有哪些？</li>
</ul>
</blockquote>
<h2 id="第13课：-QuestionBot"><a href="#第13课：-QuestionBot" class="headerlink" title="第13课： QuestionBot"></a>第13课： QuestionBot</h2><blockquote>
<p>标准研发过程是进行更改、构建并运行、测试更改。有时候，你所处理的那部分 app 可能工程量巨大，或者有些工作相当耗时，但不管怎样，一定要进行测试。</p>
<p>这是一种理想的 app 构建方式——各工作部分相互之间尽可能没有交集，并且每个部分只完成一个核心任务。也就是说，每个部分各自独立构建完成并确保毫无差错后，再整合到一起。</p>
<p>你真正的目标用户是谁？<br>现在你有一个想要构建的 app 并且设计了初始的几个屏幕，是时候重新考虑你的目标用户了。想出几类将会使用你的 app 的人群。写下每种类型用户的特征描述。这个人是做什么的？多大年纪？为什么要使用这个 app？她如何找到自己需要知道的内容？她喜欢图片还是喜欢文字？她珍爱自己的设备还是凑合用用？</p>
</blockquote>
<h2 id="第14课：数组与循环"><a href="#第14课：数组与循环" class="headerlink" title="第14课：数组与循环"></a>第14课：数组与循环</h2><blockquote>
<p>测试<br>你有自己的原型，并且清楚知道目标用户是谁。现在应该去寻求现实生活中的人们对于你所设计的视图的反馈。你完全可以进行一些用户测试。<br>在索引卡上重新绘制最新的原型视图。每张卡代表一个视图，测试用户可以快速翻阅并假装他们正在使用你的 app。每次他们“轻点”按钮时，你就切换到下一张卡。<br>找几个适合充当目标用户角色的人员。在他们浏览索引卡的时候，问他们知不知道要怎样在 app 中进行操作。他们知道要轻点哪些按钮吗？他们喜欢你的 app 吗？他们觉得这个 app 有用吗？<br>将你的调查结果记录在 app 日志中。</p>
</blockquote>
<h2 id="第15课：定义结构"><a href="#第15课：定义结构" class="headerlink" title="第15课：定义结构"></a>第15课：定义结构</h2><blockquote>
<p>那么就将这视为一次对于勇气的考验。你务必要确定你所做的是自己坚信的事情。</p>
</blockquote>
<h2 id="第16课：-QuestionBot-2"><a href="#第16课：-QuestionBot-2" class="headerlink" title="第16课： QuestionBot 2"></a>第16课： QuestionBot 2</h2><blockquote>
<p>再谈原型…<br>纸上原型是着手开发和测试 app 创意的有效途径。 后续的每个原型都会推动你走近那个直观又悦人的界面。不过，当你一步步接近最终设计时，务必要在实际设备（类似于你为之进行设计的设备）上进行原型制作。你可以观察用户手握设备的方式，看看他们的手指与界面进行互动时会出现什么情况，并检查你的按钮是否太大或太小。<br>纸上原型之后，你可以使用 Keynote 应用程序模拟 app 的不同视图。你主要是模拟 iOS 环境即可，不必完成幕后编程。你要做的就是从视图上的界面元素创建链接，将一张 Keynote 幻灯片链接到另一张幻灯片。当你创建了足以完美模拟导航的幻灯片和链接之后，就可以在目标设备上播放演示文稿，看看用户是如何与屏幕进行互动的。<br>在日志中仔细规划 Keynote 原型中要使用的视图。在 Keynote 中创建视图，然后不断完善。这次，除了考虑用户在屏幕之间可能的导航方式之外，还要对屏幕上的每个元素进行设计。你可以在 Keynote 中随意尝试各种按钮、图标和文本的颜色、大小和位置等。从 Iterative UI Design 的 WWDC 观看此视频，来了解有关使用 Keynote 设计 app 和创建原型的更多信息。</p>
</blockquote>
<h2 id="第17课：操作和出口"><a href="#第17课：操作和出口" class="headerlink" title="第17课：操作和出口"></a>第17课：操作和出口</h2><blockquote>
<p>故事板与代码之间有两种类型的连接：<br>出口会将代码中的变量连接到故事板中的对象，这样就可以从代码中访问那些对象，并且在 app 运行时获取信息或进行更改。<br>操作会将开关和按钮等控件连接到代码中的方法，如此一来，举例来说，轻点某个按钮即会运行特定方法。</p>
<p>创建出口<br>白色背景上的白色视图难以分辨。选择“Editor”&gt;“Canvas”&gt;“Show Bounds Rectangles”，显示场景上每个内容的轮廓。<br>转到“View”&gt;“Assistant Editor”&gt;“Show Assistant Editor”打开助理编辑器。如果助理编辑器中没有显示 ViewController.swift，确保按以下方式设置助理编辑器顶部的跳转栏：<br>按住 Ctrl 键从视图拖移（按住 Ctrl 键，然后用鼠标或触控板点按并拖移）到代码中。<br><img src="/2017/10/17/使用Swift开发App入门课程笔记/outlet.png" alt="出口"><br>上图中内容的详细说明从左到右依次为：</p>
<ul>
<li>圆圈：实心的圆圈表示该出口已连接。如果出口未连接，则为空心圆圈。</li>
<li>@IBOutlet weak：这是通知 Xcode 此行上的属性是出口。</li>
<li>var colorView：这是属性的声明，你对此已有所了解。</li>
<li>: UIView!：属性的类型是 UIView!。感叹号表示，如果出口未连接，而你尝试访问此属性，那么 app 将崩溃。UIView 是所有 iOS app 中使用的基本视图类型。屏幕上显示的所有内容几乎都是一种 UIView，负责绘制和处理触摸。</li>
</ul>
<p>函数 viewDidLoad()，当视图控制器准备好显示在屏幕上时，就会调用此函数。</p>
<p>创建操作<br>连接出口和操作的方法有很多种。按住 Ctrl 键从故事板拖移到代码会创建新的出口和操作。创建完成之后，就可以通过“Connections”检查器或使用代码文件中的圆圈图标进行连接、断开连接和重新连接操作。<br>哪一种方法更好？如果想知道故事板中的特定对象连接到哪些出口和操作，可使用​“Connections”检查器。如果想知道特定出口或操作连接到哪些对象，可使用代码中的圆圈图标。</p>
<p>滑块<br>为什么要增加开关之间的间距呢？你现在所使用的模拟器是带光标的，可以精准地点击非常小的对象。但是使用通过手指进行操作的设备时，界面元素的周围必须有更多的空间。</p>
<p>润饰界面<br>设置开关的色调<br>要修正第一个问题，可以使用可用于许多控件的着色选项。开关有两种自定颜色：开启色调和滑块色调。所对应的开关区域如下所示：<br><img src="/2017/10/17/使用Swift开发App入门课程笔记/uiswitch.png" alt="开关"></p>
<p>所有控件都有 isEnabled 属性，通过该属性可以激活或取消激活控件。控件的状态会伴随控件外观的改变，例如，变暗。</p>
<p>这一次，你可以先观察用户与原型的互动情况，然后再向他们提出问题。将你的 Keynote 原型交给他们，让他们像平时尝试新的 app 那样感受一下你的 app。你不可能永远做到随时指导用户，因此观察他们独立操作的情形非常重要，有助于你在设计时就预见到用户可能的行为。将你观察到的一切记录在日志中，例如，他们对哪里感到困惑，或者哪些内容真正吸引了他们。</p>
</blockquote>
<h2 id="第18课：自适应用户界面"><a href="#第18课：自适应用户界面" class="headerlink" title="第18课：自适应用户界面"></a>第18课：自适应用户界面</h2><blockquote>
<p>通过​“自动布局”，可以设置用于定义视图布局方式的规则，称为约束。<br><img src="/2017/10/17/使用Swift开发App入门课程笔记/constraints.png" alt="约束"></p>
<p>在很多 app 中，主用户界面均类似于视图堆栈或列表，并且该堆栈的运行方式都是从上到下或从左到右。你可以使用“自动布局”​中的约束来定义这种类型的界面，不过 iOS 提供了一种更为方便的方法，叫做堆栈视图。</p>
<p>请注意，在“Size”检查器中更改大小不会设置约束；它只会在 Interface Builder 中调整大小。<br><img src="/2017/10/17/使用Swift开发App入门课程笔记/view-size.png" alt="设备视图尺寸"><br><img src="/2017/10/17/使用Swift开发App入门课程笔记/add-new-constraints.png" alt="增加约束"></p>
<p>请注意，堆栈中的视图将显示为居中、左对齐或右对齐，具体取决于点按“Stack”​按钮之前视图的排列方式。</p>
<p>选择堆栈视图需要窍门。请选择以下其中一种技术：</p>
<ol>
<li>从堆栈视图外部拖拽滑过堆栈视图。</li>
<li>从大纲视图中选择“Stack View”（请参阅左侧图像）。</li>
</ol>
<p>堆栈视图设置是：</p>
<ol>
<li>Alignment：设置视图在堆栈中的排列方式。</li>
<li>Spacing：设置堆栈中各视图之间的间距。</li>
</ol>
<p>使用 Command-Control-Space，打开表情符号挑选器。</p>
<p>调整按钮大小以适合内容：</p>
<ol>
<li>确保选中按钮。</li>
<li>从菜单中选择“Editor”&gt;“Size to Fit Content”，或使用键盘快捷键 Command-=。</li>
</ol>
<p>复制UI以创建新UI：</p>
<ol>
<li>选择UI。</li>
<li>从菜单中选择”编辑”&gt;“Duplicate”，或使用键盘快捷键 Command-D。</li>
</ol>
<p>检查点<br>用户界面的布局已完成。应当及时确认它是否准确地适应其用途。选择不同的设备以更改画布的大小，并将方向从纵向更改为横向。</p>
<p>你可以使用所学过的知识在自己的 app 中构建自适应用户界面。以下是需要遵循的一些指导原则：</p>
<ul>
<li>为最小的设备而设计。这可确保你的设计适合于其他（较大）设备。</li>
<li>使用约束定义图像视图的高度和宽度。这样，无需调整图像视图的大小也可以容纳非常大的图像。</li>
<li>首先，添加并排列视图，然后选择这些视图并创建堆栈视图。</li>
<li>使用堆栈视图设置（如间距和对齐）创建各种界面效果。</li>
<li>嵌套堆栈视图来创建更加复杂的用户界面。务必尽量从最里面的堆栈视图开始。</li>
<li>使用约束将最外面的堆栈视图设为水平和垂直居中，以确保用户界面在所有设备上均居中。</li>
<li>在添加约束后解决“自动布局”问题。选择“Resolve Auto Layout Issues”菜单中的​“Update Frames”，以去掉那些烦人的橙色线。</li>
</ul>
</blockquote>
<h2 id="第19课：枚举和Switch"><a href="#第19课：枚举和Switch" class="headerlink" title="第19课：枚举和Switch"></a>第19课：枚举和Switch</h2><blockquote>
<p>如果支持 VoiceOver，用户就可以在看不到屏幕的情况下完全依靠声音在你的 app 中进行导航。其次，你的 app 必须与许多管理机构所采用的辅助功能指导原则保持同步。最后，满足所有用户的需求就是真理。</p>
</blockquote>
<h2 id="第20课：结业项目"><a href="#第20课：结业项目" class="headerlink" title="第20课：结业项目"></a>第20课：结业项目</h2><blockquote>
<p>GameplayKit 框架中包含一个 API，可用来生成随机数字，并能够构建游戏更复杂的部分。你以前从未接触过这个框架，以下将提供逐步说明。<br>在 Sign.swift 文件的顶部添加 import GameplayKit。<br>添加该 import 语句后，你就可以使用该框架中的 API。<br>将以下行添加到该文件（这是高层次设置，任何结构或枚举定义中都未包含）：<br>let randomChoice = GKRandomDistribution(lowestValue: 0, highestValue: 2)<br>如果在 randomChoice 上调用 nextInt() 方法，GKRandomDistribution 实例将提供一个介于构造器中指定的两个值之间的随机 Int。</p>
<p>设置按钮的“isHidden”属性的值来隐藏</p>
</blockquote>
<h2 id="第21课：接下来…"><a href="#第21课：接下来…" class="headerlink" title="第21课：接下来…"></a>第21课：接下来…</h2><blockquote>
<p>The Swift Programming Language Guide<br>这是全面的 Swift 官方编程指南，其中不仅包含 Swift 编程中的新增主题，而且还对本课程中的一些内容进行了更为深入的讲解。本指南提供在线版本。<br>iOS Human Interface Guidelines<br>这些指南阐述了 iOS app 用户界面设计原则，其中不仅提供了 iOS app 设计的高级信息，而且描述了特定的 UI 元素及其在 app 中的应用方式。这些指南以书籍或在线形式提供。<br>WWDC 视频<br>WWDC 会议视频涵盖了 Apple 软件开发的方方面面。有关 Xcode 和 Interface Builder 的会议中包含大量演示和演练，对于开发新手尤为有用。你可以在 Apple Developer 网站上观看所有会议。<br>Start Developing iOS Apps<br>通过此在线教程，你能够以另外一种方式练习本课程中所学到的一些基础知识，还可以了解许多新增主题。在 Apple Developer 网站上进行查看。</p>
</blockquote>
<h2 id="其它资源"><a href="#其它资源" class="headerlink" title="其它资源"></a>其它资源</h2><blockquote>
<p>进一步了解《<a href="https://www.apple.com/cn/everyone-can-code/" target="_blank" rel="external">人人能编程</a>》课程。<br>进一步了解 <a href="https://www.apple.com/cn/swift/playgrounds/" target="_blank" rel="external">Swift Playgrounds</a>。<br>查阅其他《人人能编程》书籍：<br>Swift Playgrounds 教师指南<br>使用 Swift 开发 App 入门课程教师指南<br>进一步了解 <a href="https://developer.apple.com/swift/" target="_blank" rel="external">Swift</a>。<br>查找用于为 Mac、iPhone、iPad 和 Apple Watch 创建 ​app 和配件的工具与资源。<br>在 Apple Developer Forum 中与其他程序员建立联系。<br>进一步了解如何提交 app 到 App Store。<br>查看支持编程教学的其他资源。</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.gouchicao.com/2017/10/17/使用Swift开发App入门课程笔记/" data-id="cjahu0dnt000in4yqktmf3qbz" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/App/">App</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Swift/">Swift</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Development-cannot-be-enabled-while-your-device-is-locked" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/10/16/Development-cannot-be-enabled-while-your-device-is-locked/" class="article-date">
  <time datetime="2017-10-16T03:18:11.000Z" itemprop="datePublished">2017-10-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/开发/">开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/16/Development-cannot-be-enabled-while-your-device-is-locked/">Development cannot be enabled while your device is locked</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="升级了iPhone的系统后，连接到Macbook-Pro，在Xcode中运行APP，出现错误：Development-cannot-be-enabled-while-your-device-is-locked"><a href="#升级了iPhone的系统后，连接到Macbook-Pro，在Xcode中运行APP，出现错误：Development-cannot-be-enabled-while-your-device-is-locked" class="headerlink" title="升级了iPhone的系统后，连接到Macbook Pro，在Xcode中运行APP，出现错误：Development cannot be enabled while your device is locked."></a>升级了iPhone的系统后，连接到Macbook Pro，在Xcode中运行APP，出现错误：Development cannot be enabled while your device is locked.</h3><p><img src="/2017/10/16/Development-cannot-be-enabled-while-your-device-is-locked/Development cannot be enabled while your device is locked.png" alt=""></p>
<h3 id="关闭了Xcode后，打开重新运行APP，出现错误：xxx的-iPhone-is-busy-Preparing-debugger-support-for-xxx的-iPhone"><a href="#关闭了Xcode后，打开重新运行APP，出现错误：xxx的-iPhone-is-busy-Preparing-debugger-support-for-xxx的-iPhone" class="headerlink" title="关闭了Xcode后，打开重新运行APP，出现错误：xxx的 iPhone is busy: Preparing debugger support for xxx的 iPhone"></a>关闭了Xcode后，打开重新运行APP，出现错误：xxx的 iPhone is busy: Preparing debugger support for xxx的 iPhone</h3><p><img src="/2017/10/16/Development-cannot-be-enabled-while-your-device-is-locked/xxx的 iPhone is busy Preparing debugger support for xxx的 iPhone.png" alt=""></p>
<h3 id="重新插拔iPhone数据线，在Xcode中运行APP，成功。"><a href="#重新插拔iPhone数据线，在Xcode中运行APP，成功。" class="headerlink" title="重新插拔iPhone数据线，在Xcode中运行APP，成功。"></a>重新插拔iPhone数据线，在Xcode中运行APP，成功。</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.gouchicao.com/2017/10/16/Development-cannot-be-enabled-while-your-device-is-locked/" data-id="cjahu0dn20002n4yq3itigrd7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/开发/">开发</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/App/">App</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Github/">Github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ILMessageFilterExtension/">ILMessageFilterExtension</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenSSL/">OpenSSL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SMS/">SMS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Swift/">Swift</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UITextField/">UITextField</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UITextView/">UITextView</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Xcode/">Xcode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iOS/">iOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/icon/">icon</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/静态库/">静态库</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/App/" style="font-size: 12.5px;">App</a> <a href="/tags/C/" style="font-size: 15px;">C</a> <a href="/tags/Github/" style="font-size: 10px;">Github</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/ILMessageFilterExtension/" style="font-size: 10px;">ILMessageFilterExtension</a> <a href="/tags/OpenSSL/" style="font-size: 10px;">OpenSSL</a> <a href="/tags/SMS/" style="font-size: 10px;">SMS</a> <a href="/tags/Swift/" style="font-size: 17.5px;">Swift</a> <a href="/tags/UITextField/" style="font-size: 10px;">UITextField</a> <a href="/tags/UITextView/" style="font-size: 10px;">UITextView</a> <a href="/tags/Xcode/" style="font-size: 12.5px;">Xcode</a> <a href="/tags/iOS/" style="font-size: 20px;">iOS</a> <a href="/tags/icon/" style="font-size: 10px;">icon</a> <a href="/tags/静态库/" style="font-size: 10px;">静态库</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/11/27/Xcode-Create-iOS-Static-Library/">Xcode Create iOS Static Library</a>
          </li>
        
          <li>
            <a href="/2017/11/15/iOS-App-创建图标/">iOS App 创建图标</a>
          </li>
        
          <li>
            <a href="/2017/11/06/编辑UITextField和UITextView时如何隐藏键盘/">编辑UITextField和UITextView时如何隐藏键盘</a>
          </li>
        
          <li>
            <a href="/2017/11/06/Xcode中C语言移除警告/">Xcode中C语言移除警告</a>
          </li>
        
          <li>
            <a href="/2017/11/02/iOS11短信过滤/">iOS11短信过滤</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 vwarship<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">主页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about" class="mobile-nav-link">关于我</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>